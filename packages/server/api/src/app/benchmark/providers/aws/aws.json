{
  "provider": "aws",
  "steps": [
    {
      "id": "connection",
      "title": "Choose the AWS connection you want to use",
      "description": "**Choose the AWS connection you want to use**\n\nOpenOps can pull data from AWS using the connection you select here. We provide a CloudFormation stack that installs the required permissions for you.\n\nCloudFormation stack: [Create a read-only role](https://example.com/cloudformation-readonly)\n\nDocumentation: [How to set up AWS read-only permissions](https://example.com/docs/aws-readonly)",
      "selectionType": "single",
      "optionsSource": { "type": "dynamic", "method": "listConnections" },
      "nextStep": "accounts"
    },
    {
      "id": "accounts",
      "title": "Which accounts should we include in the report?",
      "selectionType": "multi-select",
      "optionsSource": { "type": "dynamic", "method": "getConnectionAccounts" },
      "conditional": {
        "when": "connection.supportsMultiAccount",
        "skipToStep": "regions"
      },
      "nextStep": "regions"
    },
    {
      "id": "regions",
      "title": "Which regions should we include in the report?",
      "selectionType": "multi-select",
      "optionsSource": { "type": "dynamic", "method": "getRegionsList" },
      "nextStep": "workflows"
    },
    {
      "id": "workflows",
      "title": "Which AWS workflows should we run to analyze the data?",
      "selectionType": "multi-select",
      "optionsSource": {
        "type": "static",
        "values": [
          {
            "id": "ASG Compute Optimizer Recommendations",
            "displayName": "ASG Compute Optimizer Recommendations"
          },
          {
            "id": "DynamoDB Over-Provisioned Tables",
            "displayName": "DynamoDB Over-Provisioned Tables"
          },
          {
            "id": "EBS Compute Optimizer Recommendations",
            "displayName": "EBS Compute Optimizer Recommendations"
          },
          {
            "id": "EBS Generation upgrade (gp2 to gp3)",
            "displayName": "EBS Generation upgrade (gp2 to gp3)"
          },
          {
            "id": "EC2 Compute Optimizer Recommendations",
            "displayName": "EC2 Compute Optimizer Recommendations"
          },
          {
            "id": "ECS Compute Optimizer Recommendations",
            "displayName": "ECS Compute Optimizer Recommendations"
          },
          {
            "id": "Idle Compute Optimizer Recommendations",
            "displayName": "Idle Compute Optimizer Recommendations"
          },
          {
            "id": "Idle Elastic Load Balancer (ELB)",
            "displayName": "Idle Elastic Load Balancer (ELB)"
          },
          { "id": "Idle RDS instances", "displayName": "Idle RDS instances" },
          {
            "id": "Lambda Compute Optimizer Recommendations",
            "displayName": "Lambda Compute Optimizer Recommendations"
          },
          {
            "id": "License Compute Optimizer Recommendations",
            "displayName": "License Compute Optimizer Recommendations"
          },
          {
            "id": "Migrate EC2 instances to Graviton",
            "displayName": "Migrate EC2 instances to Graviton"
          },
          {
            "id": "Old generation EC2 instances",
            "displayName": "Old generation EC2 instances"
          },
          {
            "id": "Orphaned RDS Snapshots",
            "displayName": "Orphaned RDS Snapshots"
          },
          {
            "id": "RDS Extended Support Avoidance",
            "displayName": "RDS Extended Support Avoidance"
          },
          {
            "id": "RDS Instance Compute Optimizer Recommendations",
            "displayName": "RDS Instance Compute Optimizer Recommendations"
          },
          {
            "id": "RDS Storage Compute Optimizer Recommendations",
            "displayName": "RDS Storage Compute Optimizer Recommendations"
          },
          { "id": "Underutilized EC2", "displayName": "Underutilized EC2" },
          { "id": "Underutilized RDS", "displayName": "Underutilized RDS" },
          {
            "id": "Underutilized VPC Interface Endpoints",
            "displayName": "Underutilized VPC Interface Endpoints"
          },
          { "id": "Unattached EBS", "displayName": "Unattached EBS" },
          {
            "id": "Unattached Elastic IP Addresses",
            "displayName": "Unattached Elastic IP Addresses"
          },
          { "id": "Unused NAT Gateways", "displayName": "Unused NAT Gateways" }
        ]
      }
    }
  ]
}
