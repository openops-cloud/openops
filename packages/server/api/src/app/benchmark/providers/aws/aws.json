{
  "provider": "aws",
  "steps": [
    {
      "id": "connection",
      "title": "Choose the AWS connection you want to use",
      "description": "**Choose the AWS connection you want to use**\n\nOpenOps can pull data from AWS using the connection you select here. We provide a CloudFormation stack that installs the required permissions for you.\n\nCloudFormation stack: [Create a read-only role](https://example.com/cloudformation-readonly)\n\nDocumentation: [How to set up AWS read-only permissions](https://example.com/docs/aws-readonly)",
      "selectionType": "single",
      "optionsSource": { "type": "dynamic", "method": "listConnections" },
      "nextStep": "accounts"
    },
    {
      "id": "accounts",
      "title": "Which accounts should we include in the report?",
      "selectionType": "multi-select",
      "optionsSource": { "type": "dynamic", "method": "getConnectionAccounts" },
      "conditional": {
        "when": "connection.supportsMultiAccount",
        "skipToStep": "regions"
      },
      "nextStep": "regions"
    },
    {
      "id": "regions",
      "title": "Which regions should we include in the report?",
      "selectionType": "multi-select",
      "optionsSource": {
        "type": "static",
        "values": [
          {
            "id": "us-east-1",
            "displayName": "US East (N. Virginia)",
            "imageLogoUrl": ""
          },
          { "id": "us-west-2", "displayName": "US West (Oregon)" }
        ]
      },
      "nextStep": "services"
    },
    {
      "id": "workflows",
      "title": "Which AWS workflows should we run to analyze the data?",
      "selectionType": "multi-select",
      "optionsSource": {
        "type": "static",
        "values": [
          {
            "id": "asg-compute-optimizer-recommendations",
            "displayName": "ASG Compute Optimizer Recommendations"
          },
          {
            "id": "dynamodb-over-provisioned-tables",
            "displayName": "DynamoDB Over-Provisioned Tables"
          },
          {
            "id": "ebs-compute-optimizer-recommendations",
            "displayName": "EBS Compute Optimizer Recommendations"
          },
          {
            "id": "ebs-generation-upgrade-gp2-to-gp3",
            "displayName": "EBS Generation upgrade (gp2 to gp3)"
          },
          {
            "id": "ec2-compute-optimizer-recommendations",
            "displayName": "EC2 Compute Optimizer Recommendations"
          },
          {
            "id": "ecs-compute-optimizer-recommendations",
            "displayName": "ECS Compute Optimizer Recommendations"
          },
          {
            "id": "idle-compute-optimizer-recommendations",
            "displayName": "Idle Compute Optimizer Recommendations"
          },
          {
            "id": "idle-elastic-load-balancer-elb",
            "displayName": "Idle Elastic Load Balancer (ELB)"
          },
          { "id": "idle-rds-instances", "displayName": "Idle RDS instances" },
          {
            "id": "lambda-compute-optimizer-recommendations",
            "displayName": "Lambda Compute Optimizer Recommendations"
          },
          {
            "id": "lambda-runtime-optimization",
            "displayName": "Lambda Runtime optimization"
          },
          {
            "id": "license-compute-optimizer-recommendations",
            "displayName": "License Compute Optimizer Recommendations"
          },
          {
            "id": "migrate-ec2-instances-to-graviton",
            "displayName": "Migrate EC2 instances to Graviton"
          },
          { "id": "network", "displayName": "Network" },
          {
            "id": "old-generation-ec2-instances",
            "displayName": "Old generation EC2 instances"
          },
          {
            "id": "orphaned-rds-snapshots",
            "displayName": "Orphaned RDS Snapshots"
          },
          {
            "id": "rds-extended-support-avoidance",
            "displayName": "RDS Extended Support Avoidance"
          },
          {
            "id": "rds-instance-compute-optimizer-recommendations",
            "displayName": "RDS Instance Compute Optimizer Recommendations"
          },
          {
            "id": "rds-storage-compute-optimizer-recommendations",
            "displayName": "RDS Storage Compute Optimizer Recommendations"
          },
          { "id": "underutilized-ec2", "displayName": "Underutilized EC2" },
          { "id": "underutilized-rds", "displayName": "Underutilized RDS" },
          {
            "id": "underutilized-vpc-interface-endpoints",
            "displayName": "Underutilized VPC Interface Endpoints"
          },
          { "id": "unattached-ebs", "displayName": "Unattached EBS" },
          {
            "id": "unattached-elastic-ip-addresses",
            "displayName": "Unattached Elastic IP Addresses"
          },
          { "id": "unused-nat-gateways", "displayName": "Unused NAT Gateways" }
        ]
      }
    }
  ]
}
